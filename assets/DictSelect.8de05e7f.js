import{m as e}from"./util.d12da382.js";import{_ as a}from"./index.3253e0ab.js";import{r as t,o as l,a as n,w as r,aC as i,t as s,aA as o,aB as u,aE as d}from"./ui.9933098f.js";const p=a({mixins:[e],props:{modelValue:{type:[String,Number],required:!1},valueKey:{type:String,required:!1},labelKey:{type:String,required:!1},nullAble:{type:Boolean,required:!1,default:()=>!0},request:{type:Function,required:!1},param:{type:String,required:!1},responseTransfer:{type:Function,required:!1,default:e=>e.data}},data:()=>({bindValue:"",list:[]}),watch:{modelValue:{handler(){this.modelValue&&(this.bindValue=this.modelValue)},immediate:!0}},methods:{fetchData:async function(){const e=this.propsFinnal.request;return"function"!=typeof e?console.warn("DictControl: The required configuration [request] is missing!"):"function"!=typeof e?console.warn("DictControl: [request] must be a Function!"):void(this.list=this.propsFinnal.responseTransfer(await e(this.param)))}},created(){this.fetchData()}},[["render",function(e,a,p,m,c,f){const b=t("el-option"),h=t("el-select");return l(),n(h,d(e.$attrs,{modelValue:c.bindValue,"onUpdate:modelValue":a[0]||(a[0]=e=>c.bindValue=e),onChange:a[1]||(a[1]=a=>e.$emit("update:modelValue",a))}),{default:r((()=>[p.nullAble?(l(),n(b,{key:0,label:e.$attrs.placeholder||"全部",value:""},null,8,["label"])):i("",!0),(l(!0),s(o,null,u(c.list,(a=>(l(),n(b,{label:a[e.propsFinnal.labelKey||"label"],value:a[e.propsFinnal.valueKey||"value"]},null,8,["label","value"])))),256))])),_:1},16,["modelValue"])}]]);export{p as default};
