import{m as e}from"./util.d12da382.js";import{_ as a,r as l,o as t,g as n,w as r,h as i,c as s,i as u,F as o,m as d}from"./index.cc0542f8.js";const p=a({mixins:[e],props:{modelValue:{type:[String,Number],required:!1},valueKey:{type:String,required:!1},labelKey:{type:String,required:!1},nullAble:{type:Boolean,required:!1,default:()=>!0},request:{type:Function,required:!1},param:{type:String,required:!1},responseTransfer:{type:Function,required:!1,default:e=>e.data}},data:()=>({bindValue:"",list:[]}),watch:{modelValue:{handler(){this.modelValue&&(this.bindValue=this.modelValue)},immediate:!0}},methods:{fetchData:async function(){const e=this.propsFinnal.request;return"function"!=typeof e?console.warn("DictControl: The required configuration [request] is missing!"):"function"!=typeof e?console.warn("DictControl: [request] must be a Function!"):void(this.list=this.propsFinnal.responseTransfer(await e(this.param)))}},created(){this.fetchData()}},[["render",function(e,a,p,c,m,f){const h=l("el-option"),b=l("el-select");return t(),n(b,d(e.$attrs,{modelValue:m.bindValue,"onUpdate:modelValue":a[0]||(a[0]=e=>m.bindValue=e),onChange:a[1]||(a[1]=a=>e.$emit("update:modelValue",a))}),{default:r((()=>[p.nullAble?(t(),n(h,{key:0,label:e.$attrs.placeholder||"全部",value:""},null,8,["label"])):i("",!0),(t(!0),s(o,null,u(m.list,(a=>(t(),n(h,{label:a[e.propsFinnal.labelKey||"label"],value:a[e.propsFinnal.valueKey||"value"]},null,8,["label","value"])))),256))])),_:1},16,["modelValue"])}]]);export{p as default};
