import{m as d}from"./util.daf55454.js";import{_ as c,r as s,o as r,h as u,w as m,i as f,c as p,j as h,F as q,m as b}from"./index.325e0c38.js";const y={mixins:[d],props:{modelValue:{type:[String,Number],required:!1},valueKey:{type:String,required:!1,default(){return"value"}},labelKey:{type:String,required:!1,default(){return"label"}},nullAble:{type:Boolean,required:!1,default(){return!0}},request:{type:Function,required:!1},param:{type:String,required:!1,default(){}},responseTransfer:{type:Function,required:!1,default(e){return e}}},data(){return{bindValue:null,list:[]}},watch:{modelValue:{handler(){this.modelValue&&(this.bindValue=this.modelValue)},immediate:!0}},methods:{fetchData:async function(){if(!this.$DictcontrolOption&&!this.$DictcontrolOption.request&&!this.request)return console.warn("DictControl: The required configuration [request] is missing!");const e=this.request||this.$DictcontrolOption.request;if(typeof e!="function")return console.warn("DictControl: [request] must be a Function!");this.list=this.responseTransfer(await e(this.param))}},created(){this.fetchData()}};function V(e,l,n,g,a,D){const o=s("el-option"),i=s("el-select");return r(),u(i,b(e.$attrs,{modelValue:a.bindValue,"onUpdate:modelValue":l[0]||(l[0]=t=>a.bindValue=t),onChange:l[1]||(l[1]=t=>e.$emit("update:modelValue",t))}),{default:m(()=>[n.nullAble?(r(),u(o,{key:0,label:e.$attrs.placeholder||"\u5168\u90E8",value:null},null,8,["label"])):f("",!0),(r(!0),p(q,null,h(a.list,t=>(r(),u(o,{label:t[n.labelKey],value:t[n.valueKey]},null,8,["label","value"]))),256))]),_:1},16,["modelValue"])}var w=c(y,[["render",V]]);export{w as default};
