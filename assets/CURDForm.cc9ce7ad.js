import{_ as g,r as c,o as d,g as n,w as f,c as _,i as V,q as u,m,F as v}from"./index.bb69c137.js";const C={props:{model:{type:Object,required:!0},default:{type:Object,required:!1,default(){return{}}},action:{type:String,required:!1,default:"update"},formAttribute:{type:Object,required:!1,default(){return{}}}},data(){return{editForm:this.default}},computed:{modelKey(){return Object.keys(this.model).filter(l=>this.model[l].scope.indexOf(this.action)!==-1)}},methods:{validate(l){return this.$refs.editForm.validate(l)},validateField(l,i){return this.$refs.editForm.validateField(l,i)},resetFields(){return this.$refs.editForm.resetFields()},clearValidate(){return this.$refs.editForm.clearValidate()},genItemValid(l){return typeof this.model[l].validator=="function"?(i,t,s)=>{this.model[l].validator(this.editForm,t,s)}:this.model[l].validator},handleChange(l){this.model[l].asynValid&&this.validateField(l)}}};function b(l,i,t,s,r,a){const h=c("el-form-item"),F=c("el-form");return d(),n(F,m({ref:"editForm",model:r.editForm},Object.assign({size:"small","label-width":"80px"},t.formAttribute)),{default:f(()=>[(d(!0),_(v,null,V(a.modelKey,e=>(d(),n(h,{key:e,label:t.model[e].label,prop:e,rules:{type:t.model[e].type,required:t.model[e].required,validator:a.genItemValid(e),message:t.model[e].message}},{default:f(()=>[t.model[e].type==="string"?(d(),n(u(t.model[e].control),m({key:0,modelValue:r.editForm[e],"onUpdate:modelValue":o=>r.editForm[e]=o,modelModifiers:{trim:!0}},t.model[e].controlOption,{onChange:o=>a.handleChange(e)}),null,16,["modelValue","onUpdate:modelValue","onChange"])):t.model[e].type==="number"?(d(),n(u(t.model[e].control),m({key:1,modelValue:r.editForm[e],"onUpdate:modelValue":o=>r.editForm[e]=o,modelModifiers:{number:!0}},t.model[e].controlOption,{onChange:o=>a.handleChange(e)}),null,16,["modelValue","onUpdate:modelValue","onChange"])):(d(),n(u(t.model[e].control),m({key:2,modelValue:r.editForm[e],"onUpdate:modelValue":o=>r.editForm[e]=o},t.model[e].controlOption,{onChange:o=>a.handleChange(e)}),null,16,["modelValue","onUpdate:modelValue","onChange"]))]),_:2},1032,["label","prop","rules"]))),128))]),_:1},16,["model"])}var O=g(C,[["render",b]]);export{O as default};
