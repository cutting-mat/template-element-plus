import{_ as m,C as f,a as g,b as h,Q as b,d as k,r as l,o as V,c as v,e as s,w as d,k as N,l as r}from"./index.bb69c137.js";import{l as y}from"./org.19c861cf.js";const x={props:{modelValue:{type:[Number,String],required:!1},adapter:{type:Function,required:!1,default(t,e){return e.name||t}},size:{type:String,required:!1}},components:{OrgTree:f(()=>g(()=>import("./OrgTree.27afc07d.js"),["assets/OrgTree.27afc07d.js","assets/org.19c861cf.js","assets/index.bb69c137.js","assets/index.9545d33c.css"]))},data(){return{loading:!1,dialogVisible:!1,list:[],checkedNode:[],submitNode:{}}},computed:{showTitle(){return this.adapter(this.modelValue,this.submitNode)}},methods:{fetchData:function(){this.loading=!0,y().then(t=>{this.loading=!1,t.data&&(this.list=h(t.data))}).catch(()=>{this.loading=!1})},submit(){const t=b(this.checkedNode);t&&t[0]&&(this.submitNode=k(t[0]),this.$emit("update:modelValue",this.submitNode.id)),this.dialogVisible=!1,console.log(this.dialogVisible)}},created(){this.fetchData()}},C={class:"orgPick-box"},T={class:"orgPicker"},O=r("\u786E \u5B9A"),P=r("\u53D6 \u6D88");function w(t,e,c,z,o,a){const u=l("el-input"),_=l("OrgTree"),n=l("el-button"),p=l("el-dialog");return V(),v("div",C,[s(u,{size:c.size,readonly:"",modelValue:a.showTitle,placeholder:"\u8BF7\u9009\u62E9",onClick:e[0]||(e[0]=i=>o.dialogVisible=!0)},null,8,["size","modelValue"]),s(p,{"custom-class":"custom-dialog","append-to-body":"","close-on-click-modal":!1,title:"\u9009\u62E9\u7EC4\u7EC7",modelValue:o.dialogVisible,"onUpdate:modelValue":e[3]||(e[3]=i=>o.dialogVisible=i),width:"1000px","destroy-on-close":"",onOpen:e[4]||(e[4]=i=>o.checkedNode=[])},{footer:d(()=>[s(n,{type:"primary",onClick:a.submit},{default:d(()=>[O]),_:1},8,["onClick"]),s(n,{onClick:e[2]||(e[2]=i=>o.dialogVisible=!1)},{default:d(()=>[P]),_:1})]),default:d(()=>[N("div",T,[s(_,{value:o.list,picker:"",onPick:e[1]||(e[1]=i=>o.checkedNode=i)},null,8,["value"])])]),_:1},8,["modelValue"])])}var D=m(x,[["render",w],["__scopeId","data-v-5c8ef91c"]]);export{D as default};
